<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Exercicio Array</title>
  <style>
  .enfase { color:red; font-weight: 600; }
  </style>

  <script>
    /*
    * Dados Iniciais
    */
    let alunos = new Array();
	let adicionouNovoAluno = false;
    let alunosAutomaticos = [
      ['João', 'ADM', '16'],
      ['Maria', 'INFO', '18'],
      ['Ednaldo Pereira', 'INFO', '15'],
      ['Galadriel', 'LOG', '16'],
    ];


    /*
    * Funções
    */
    function cadastrarAluno() {
      let nome  = document.getElementById('txtNomeAluno').value;
      let curso = document.getElementById('txtCursoDoAluno').value;
      let idade = parseInt(document.getElementById('txtIdadeAluno').value);

      let aluno = [ nome, curso, idade ];

      alunos.push(aluno);
	  adicionouNovoAluno = true;
    }

    function exibirCadastros() {
	  if ( adicionouNovoAluno ) {	 
		const tableCadastros = document.getElementById('tableCadastros');
		
		  for (let i = 0; i < alunos.length; i++) {
			let tr = '';
			let td = '';
			
			let nome = alunos[i][0];
			let curso = alunos[i][1];
			let idade = alunos[i][2];

			td += `
			<!-- unico td -->
			<td id=${nome.toLowerCase()}>
			  ${nome}
			</td>
			<td>
			  ${curso}
			</td>
			<td>
			  ${idade}
			</td>
			<!-- /unico td -->
			`;

			tr = `
			<tr id="trConteudo">
			  ${td}
			</tr>
			`;
			
			tableCadastros.innerHTML += tr;
		  }
	  }
	  adicionouNovoAluno = false;
    }

    function cadastroAutomatico() {
      for (let aluno = 0; aluno < alunosAutomaticos.length; aluno++) {
        alunos.push(alunosAutomaticos[aluno]);
      }
	  adicionouNovoAluno = true;
    }
    
    function pesquisarAluno() {
	  const lblMsgPesquisa = document.getElementById('lblMsgPesquisa');
      let nomePesquisado = document.getElementById('txtNomePesquisado').value;
	  let alunoEncontrado = [];
	  
	   if (nomePesquisado == '') {
		lblMsgPesquisa.innerText = "Insira um nome valido...";
	   } else {
		for (let aluno = 0; aluno < alunos.length; aluno++) {
			let nomeAtual = alunos[aluno][0];
		
			if (nomeAtual == nomePesquisado) {
			alunoEncontrado = alunos[aluno];
		}
      }
	  
		if (alunoEncontrado.length <= -1) {
		  lblMsgPesquisa.innerHTML = "Aluno não encontrado... :(";
		} else {
		  let nomeEncontrado = alunoEncontrado[0].toLowerCase();
		  lblMsgPesquisa.innerHTML = `Aluno(a) encontrado: <a href="#${nomeEncontrado}">${nomePesquisado}</a>`;
		}
	   }
	   
    }
  </script>

</head>

<body>
  
  <center>
    <h1>Cadastro Aluno - Exercicio Array</h1>
    <br><br>

    <input type="text" id="txtNomeAluno" placeholder="Digite o nome do aluno..." />
    <input type="text" id="txtCursoDoAluno" placeholder="Digite o curso..." />
    <input type="number" id="txtIdadeAluno" placeholder="Digite a idade..." />

    <br><br>
    <div>
      <button onclick="cadastrarAluno()">Cadastrar</button>

      <button onclick="exibirCadastros()">Exibir</button>

      <button onclick="cadastroAutomatico()">Auto</button>
    </div>
    <br>

    <input type="text" id="txtNomePesquisado" placeholder="Digite o nome do aluno..." />
    <button onclick="pesquisarAluno()">Pesquisar</button>
	<br><br>
	<label id="lblMsgPesquisa"></label>
  <br><br>
  
  <table width="60%" id="tableCadastros" cellpadding="12px" border="2px" style="border-collapse: collapse;">
    <tr>
      <th colspan="3">
        <u>Alunos Cadastrados</u>
      </th>
    </tr>
    <tr>
      <th>Nome</th>
      <th>Curso</th>
      <th>Idade</th>
    </tr>
  </table>
</center>
</body>

</html>
